# WhisperBridge

### [README ENGLISH](README.md) | [ЗАВАНТАЖИТИ](https://github.com/catgirl3d/WhisperBridge/releases)

![1](docs/img/_251020140250.png) 

Настільна програма для миттєвого перекладу тексту на екрані. Використовуйте її як потужний OCR-інструмент для захоплення та перекладу будь-якої області екрану або як звичайний перекладач із виділеним вікном.

## Можливості

- **Захоплення області екрану + OCR** - Використовує LLM-оснований OCR (OpenAI/Google) для високоточного розпізнавання тексту
- **Швидкий переклад через AI** - Майже миттєвий переклад за допомогою OpenAI, Google Gemini або DeepL
- **Текстовий Стиліст** - Переписання тексту в різних стилях (Офіційний, Дружній, Спрощений тощо)
- **Вікно перекладача** - Зручні функції копіювання, вставки та швидких дій
- **Глобальні гарячі клавіші** - Налаштовувані скорочення для захоплення, перекладу та активації
- **Системний трей** - Iконка в треї та вікно налаштувань (Qt / PySide6)

## Швидкий старт

**Системні вимоги:** Python 3.8+ (Windows/macOS/Linux)

### Встановлення

```bash
# Створення віртуального середовища
python -m venv .venv

# Активація віртуального середовища
# Windows
.venv\Scripts\activate

# macOS/Linux
source .venv/bin/activate

# Встановлення залежностей
pip install -r requirements.txt
```

```
Встановлення залежностей (рекомендовано для розробки)
pip install -e .[qt,dev]

Примітки:
- Проєкт оголошує опціональні extras у pyproject.toml; використайте `qt` щоб встановити PySide6 та залежності UI, і `dev` для інструментів розробника.
- Для мінімальної установки можна використати: `pip install -r requirements.txt`, але для розробки рекомендовано editable install з extras.
```

### Запуск
 
```bash
# Запуск програми з Qt інтерфейсом
python src/main.py
```

Пакування та консольний скрипт

Для розробки:
python src/main.py

## Конфігурація

### Розташування файлів налаштувань

- **Windows:** `%USERPROFILE%\.whisperbridge\`
- **macOS/Linux:** `~/.whisperbridge/`

### Налаштування API ключа

1. Відкрийте діалог налаштувань у програмі
2. Введіть ваші API ключі (OpenAI, Google Gemini та/або DeepL)
3. Ключі будуть збережені безпечно через систему keyring

### Додаткові налаштування

У вікні налаштувань ви можете налаштувати:
- **AI Провайдери**: Вибір між OpenAI, Google або DeepL.
- **Моделі**: Вибір конкретних моделей для перекладу та vision завдань.
- **Текстовий Стиліст**: Налаштування пресетів для переписання тексту.
- **Гарячі клавіші**: Перепризначення глобальних скорочень.
<!-- - **Вигляд**: Перемикання між Світлою, Темною або Системною темами. -->

### Конфігурація LLM-основного OCR

Програма використовує LLM-оснований OCR для кращої точності. Ключі конфігурації:
- `ocr_llm_prompt`: власний промпт для vision моделі.
- `openai_vision_model`: назва моделі для OpenAI (за замовчуванням: "gpt-4o-mini")
- `google_vision_model`: назва моделі для Google (за замовчуванням: "gemini-2.5-flash")

Робочий процес: Захоплення → LLM OCR (зображення кодується й масштабується) → витяг тексту → переклад.

## Структура проекту

### Основні файли

| Файл | Опис |
|------|------|
| `src/main.py` | Точка входу програми |
| `src/whisperbridge/core/config.py` | Модель налаштувань та конфігурації |
| `src/whisperbridge/ui_qt/app.py` | Qt програма та ініціалізація |
| `requirements.txt` | Список залежностей Python |
| `pyproject.toml` | Конфігурація проекту |

### Архітектура

Структура проєкту (коротко)

```text
WhisperBridge/
├── docs/              # документація та гайдлайни
├── src/
│   └── whisperbridge/
│       ├── core/      # основна логіка: конфіг, API менеджер, налаштування
│       ├── services/  # сервіси: OCR, переклад, гарячі клавіші
│       ├── providers/ # адаптери провайдерів: OpenAI, Google, DeepL
│       ├── ui_qt/     # Qt UI: app, вікна, workers
│       ├── utils/     # утиліти: зображення, екран, мова
│       └── models/    # pydantic моделі
├── tests/             # unit та інтеграційні тести
├── pyproject.toml
└── requirements.txt
```

Тестування

Тести знаходяться в директорії `tests/`. Запустіть:
pytest tests/

Для покриття:
pytest --cov=whisperbridge tests/

## Використання

1. **Запуск програми** - запустіть WhisperBridge, іконка з'явиться в системному треї
2. **Налаштування API** - налаштуйте ваші API ключі (OpenAI, Google або DeepL) через вікно налаштувань
3. **Переклад через OCR** - натисніть `Ctrl+Shift+T`, виберіть область екрану та отримайте миттєвий переклад у вікні.
4. **Швидкий переклад** - натисніть `Ctrl+Shift+J`, щоб скопіювати виділений текст і миттєво перекласти його.
5. **Звичайний переклад** - натисніть `Ctrl+Shift+Q`, щоб відкрити вікно перекладача, де ви можете вводити або вставляти текст для ручного перекладу.

### Гарячі клавіші за замовчуванням

- **Ctrl+Shift+T**: Захоплення області та переклад через OCR
- **Ctrl+Shift+Q**: Відкрити вікно перекладача
- **Ctrl+Shift+J**: Швидкий переклад (Скопіювати виділений текст та перекласти)

## Технічні деталі

- **OCR рушій:** LLM-based Vision (OpenAI/Google) для розпізнавання тексту
- **API перекладу:** OpenAI, Google Gemini, DeepL
- **UI фреймворк:** Qt/PySide6 для кросплатформного інтерфейсу
- **Безпека:** Keyring для безпечного зберігання API ключів

## Підтримувані платформи

- Windows 10/11
- macOS 10.15+