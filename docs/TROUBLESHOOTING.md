# FAQ и устранение неполадок WhisperBridge

## Содержание

1. [Часто задаваемые вопросы](#часто-задаваемые-вопросы)
2. [Проблемы с установкой](#проблемы-с-установкой)
3. [Проблемы с API](#проблемы-с-api)
4. [Проблемы с OCR](#проблемы-с-ocr)
5. [Проблемы с горячими клавишами](#проблемы-с-горячими-клавишами)
6. [Проблемы с интерфейсом](#проблемы-с-интерфейсом)
7. [Проблемы с производительностью](#проблемы-с-производительностью)
8. [Диагностика проблем](#диагностика-проблем)
9. [Сбор логов для поддержки](#сбор-логов-для-поддержки)
10. [Контакты для поддержки](#контакты-для-поддержки)

## Часто задаваемые вопросы

### Общие вопросы

**Q: Что такое WhisperBridge?**
A: WhisperBridge - это десктопное приложение для быстрого перевода текста с экрана. Оно использует OCR для распознавания текста и GPT API для перевода.

**Q: Какие операционные системы поддерживаются?**
A: Windows 10/11, macOS 10.14+, Ubuntu 18.04+ и другие современные дистрибутивы Linux.

**Q: Нужен ли интернет для работы?**
A: Да, интернет необходим для работы с GPT API. OCR может работать локально, но для перевода требуется подключение к сети.

**Q: Сколько стоит использование приложения?**
A: Само приложение бесплатное, но требует API ключ OpenAI. Стоимость зависит от количества переводов и выбранной модели GPT.

### Функциональность

**Q: Какие языки поддерживаются для распознавания?**
A: Английский, русский, украинский, немецкий, французский, испанский, итальянский, японский, корейский, китайский и другие.

**Q: Можно ли переводить рукописный текст?**
A: Да, но качество распознавания рукописного текста ниже, чем печатного. Рекомендуется использовать четкий, разборчивый почерк.

**Q: Работает ли приложение с играми?**
A: Да, WhisperBridge может захватывать текст из игр, работающих в оконном или полноэкранном режиме.

**Q: Можно ли настроить собственные горячие клавиши?**
A: Да, все горячие клавиши настраиваются через интерфейс приложения.

### Безопасность и конфиденциальность

**Q: Безопасно ли вводить API ключ?**
A: Да, API ключи сохраняются в защищенном системном хранилище и шифруются.

**Q: Сохраняются ли переводимые тексты?**
A: Тексты кэшируются локально для ускорения повторных запросов, но не передаются третьим лицам (кроме OpenAI API).

**Q: Можно ли использовать приложение без интернета?**
A: Частично - OCR работает локально, но для перевода требуется подключение к OpenAI API.

## Проблемы с установкой

### Python не найден

**Проблема:** Ошибка "python не является внутренней или внешней командой"

**Решение:**
1. **Проверьте установку Python:**
   ```cmd
   python --version
   ```

2. **Переустановите Python с добавлением в PATH:**
   - Скачайте Python с python.org
   - При установке отметьте "Add Python to PATH"
   - Перезагрузите компьютер

3. **Добавьте Python в PATH вручную:**
   ```cmd
   # Windows
   set PATH=%PATH%;C:\Python39;C:\Python39\Scripts
   
   # Или через системные переменные
   # Панель управления → Система → Дополнительные параметры → Переменные среды
   ```

### Ошибки установки зависимостей

**Проблема:** Не удается установить пакеты через pip

**Решение:**
1. **Обновите pip:**
   ```bash
   python -m pip install --upgrade pip
   ```

2. **Установите с дополнительными флагами:**
   ```bash
   pip install --no-cache-dir --upgrade -r requirements.txt
   ```

3. **Для Windows - установите Visual Studio Build Tools:**
   - Скачайте с официального сайта Microsoft
   - Установите компоненты C++ build tools

4. **Для macOS - установите Xcode Command Line Tools:**
   ```bash
   xcode-select --install
   ```

5. **Для Linux - установите build-essential:**
   ```bash
   sudo apt update
   sudo apt install build-essential python3-dev
   ```

## Проблемы с API

### Неверный API ключ

**Проблема:** Ошибка "Invalid API key"

**Решение:**
1. **Проверьте правильность ключа:**
   - Ключ должен начинаться с "sk-"
   - Убедитесь, что нет лишних пробелов
   - Проверьте, не истек ли срок действия

2. **Создайте новый ключ:**
   - Войдите на platform.openai.com
   - Перейдите в API Keys
   - Создайте новый ключ
   - Обновите ключ в приложении

3. **Проверьте настройки аккаунта:**
   - Убедитесь, что аккаунт активен
   - Проверьте лимиты использования
   - Убедитесь в наличии средств на балансе

### Превышен лимит запросов

**Проблема:** "Rate limit exceeded"

**Решение:**
1. **Подождите и повторите:**
   - Лимиты сбрасываются каждую минуту/час
   - Попробуйте через несколько минут

2. **Увеличьте лимиты:**
   - Обратитесь в поддержку OpenAI
   - Рассмотрите переход на платный план

3. **Оптимизируйте использование:**
   - Включите кэширование
   - Уменьшите частоту запросов
   - Используйте более дешевую модель

### Недостаточно средств

**Проблема:** "Insufficient quota"

**Решение:**
1. **Пополните баланс:**
   - Войдите на platform.openai.com
   - Перейдите в Billing
   - Добавьте средства на счет

2. **Проверьте использование:**
   - Просмотрите статистику использования
   - Настройте уведомления о расходах

## Проблемы с OCR

### Плохое качество распознавания

**Проблема:** Текст распознается неточно или с ошибками

**Решение:**
1. **Улучшите качество изображения:**
   - Захватывайте четкий, контрастный текст
   - Избегайте размытых или искаженных областей
   - Увеличьте размер захватываемой области

2. **Настройте OCR параметры:**
   ```json
   {
     "ocr_confidence_threshold": 0.6,
     "primary_ocr_engine": "easyocr",
     "fallback_ocr_engine": "paddleocr"
   }
   ```

3. **Попробуйте другой OCR движок:**
   - EasyOCR - лучше для рукописного текста
   - PaddleOCR - лучше для азиатских языков

4. **Включите предобработку:**
   ```json
   {
     "ocr_preprocessing": {
       "enhance_contrast": true,
       "reduce_noise": true,
       "deskew": true
     }
   }
   ```

### OCR не работает

**Проблема:** Ошибка при инициализации OCR движков

**Решение:**
1. **Проверьте установку зависимостей:**
   ```bash
   pip install easyocr paddlepaddle paddleocr
   ```

2. **Проверьте доступность движков:**
   ```python
   # Тест EasyOCR
   import easyocr
   reader = easyocr.Reader(['en'])
   ```

3. **Переустановите проблемный движок:**
   ```bash
   pip uninstall easyocr
   pip install easyocr
   ```

### Медленное распознавание

**Проблема:** OCR работает очень медленно

**Решение:**
1. **Оптимизируйте настройки:**
   - Уменьшите количество языков OCR
   - Отключите ненужную предобработку
   - Уменьшите размер захватываемых областей

2. **Используйте GPU ускорение:**
   ```json
   {
     "experimental": {
       "gpu_acceleration": true
     }
   }
   ```

3. **Увеличьте таймаут:**
   ```json
   {
     "ocr_timeout": 15
   }
   ```

## Проблемы с горячими клавишами

### Горячие клавиши не работают

**Проблема:** Нажатие горячих клавиш не активирует функции

**Решение:**
1. **Проверьте права доступа:**
   - Запустите приложение от имени администратора
   - На Linux может потребоваться добавление в группу input

2. **Проверьте конфликты:**
   - Убедитесь, что комбинация не используется другими приложениями
   - Попробуйте другую комбинацию клавиш

3. **Перезапустите службу горячих клавиш:**
   - Закройте и откройте приложение
   - Или перезагрузите компьютер

4. **Проверьте настройки:**
   ```json
   {
     "translate_hotkey": "ctrl+shift+t",
     "quick_translate_hotkey": "ctrl+shift+q"
   }
   ```

### Конфликт с другими приложениями

**Проблема:** Горячие клавиши перехватываются другими программами

**Решение:**
1. **Найдите конфликтующее приложение:**
   - Закройте другие программы по одной
   - Определите, какая программа перехватывает клавиши

2. **Измените горячие клавиши:**
   - Выберите уникальную комбинацию
   - Используйте менее популярные сочетания

3. **Настройте приоритет:**
   - Запустите WhisperBridge после других программ
   - Или измените настройки конфликтующего приложения

## Проблемы с интерфейсом

### Окно не отображается

**Проблема:** Главное окно или overlay не появляется

**Решение:**
1. **Проверьте системный трей:**
   - Найдите иконку WhisperBridge в трее
   - Щелкните для открытия окна

2. **Проверьте позицию окна:**
   - Окно может быть за пределами экрана
   - Сбросьте позицию через настройки

3. **Перезапустите приложение:**
   ```bash
   # Завершите все процессы WhisperBridge
   # Запустите заново
   ```

### Проблемы с темой

**Проблема:** Неправильное отображение темы или цветов

**Решение:**
1. **Сбросьте тему:**
   ```json
   {
     "theme": "dark"
   }
   ```

2. **Обновите CustomTkinter:**
   ```bash
   pip install --upgrade customtkinter
   ```

3. **Проверьте системную тему:**
   - Убедитесь, что системная тема поддерживается
   - Попробуйте фиксированную тему вместо "system"

### Размытый или неправильный шрифт

**Проблема:** Текст отображается размыто или неправильным шрифтом

**Решение:**
1. **Настройте DPI:**
   - Windows: Настройки → Система → Дисплей → Масштабирование
   - Установите 100% или кратное значение

2. **Измените шрифт:**
   ```json
   {
     "fonts": {
       "font_family": "Segoe UI",
       "ui_font_size": 12
     }
   }
   ```

## Проблемы с производительностью

### Высокое потребление памяти

**Проблема:** Приложение использует много оперативной памяти

**Решение:**
1. **Очистите кэш:**
   ```json
   {
     "cache": {
       "max_size": 50,
       "ttl": 1800
     }
   }
   ```

2. **Оптимизируйте настройки:**
   ```json
   {
     "memory": {
       "max_image_size": 2097152,
       "compress_images": true,
       "cleanup_interval": 180
     }
   }
   ```

3. **Перезапустите приложение:**
   - Закройте и откройте WhisperBridge
   - Это очистит накопленные данные в памяти

### Медленная работа

**Проблема:** Приложение работает медленно

**Решение:**
1. **Проверьте интернет-соединение:**
   - Убедитесь в стабильности подключения
   - Проверьте скорость интернета

2. **Оптимизируйте настройки:**
   ```json
   {
     "performance": {
       "thread_pool_size": 2,
       "max_concurrent_requests": 1
     }
   }
   ```

3. **Уменьшите размер захватываемых областей:**
   - Захватывайте только необходимый текст
   - Избегайте больших изображений

4. **Используйте более быструю модель:**
   ```json
   {
     "model": "gpt-3.5-turbo"
   }
   ```

### Зависание приложения

**Проблема:** Приложение перестает отвечать

**Решение:**
1. **Завершите процесс:**
   ```bash
   # Windows
   taskkill /f /im whisperbridge.exe
   
   # macOS/Linux
   pkill -f whisperbridge
   ```

2. **Проверьте логи:**
   - Найдите файл лога в ~/.whisperbridge/logs/
   - Найдите ошибки перед зависанием

3. **Запустите в режиме отладки:**
   ```bash
   whisperbridge --debug
   ```

4. **Сбросьте настройки:**
   ```bash
   rm ~/.whisperbridge/settings.json
   ```

## Диагностика проблем

### Проверка системы

1. **Проверьте системные требования:**
   ```bash
   # Проверка Python
   python --version
   
   # Проверка памяти
   free -h  # Linux
   wmic OS get TotalVisibleMemorySize /value  # Windows
   
   # Проверка места на диске
   df -h  # Linux/macOS
   dir  # Windows
   ```

2. **Проверьте сетевое подключение:**
   ```bash
   # Проверка доступности OpenAI API
   curl -I https://api.openai.com/v1/models
   
   # Проверка DNS
   nslookup api.openai.com
   ```

### Тестирование компонентов

1. **Тест OCR:**
   ```python
   from whisperbridge.services.ocr_service import get_ocr_service
   
   service = get_ocr_service()
   # Тест с простым изображением
   ```

2. **Тест API:**
   ```python
   from whisperbridge.services.translation_service import get_translation_service
   
   service = get_translation_service()
   # Тест простого перевода
   ```

3. **Тест горячих клавиш:**
   ```python
   from whisperbridge.services.hotkey_service import HotkeyService
   
   # Проверка регистрации клавиш
   ```

### Анализ производительности

1. **Мониторинг ресурсов:**
   ```bash
   # Linux
   top -p $(pgrep whisperbridge)
   
   # Windows
   tasklist /fi "imagename eq whisperbridge.exe"
   
   # macOS
   top -pid $(pgrep whisperbridge)
   ```

2. **Профилирование:**
   ```bash
   # Запуск с профилированием
   python -m cProfile -o profile.stats src/main.py
   ```

## Сбор логов для поддержки

### Включение подробного логирования

1. **Настройте уровень логирования:**
   ```json
   {
     "logging": {
       "log_level": "DEBUG",
       "log_to_file": true
     }
   }
   ```

2. **Запустите с отладкой:**
   ```bash
   whisperbridge --debug --verbose
   ```

### Расположение файлов логов

- **Windows**: `%USERPROFILE%\.whisperbridge\logs\`
- **macOS**: `~/.whisperbridge/logs/`
- **Linux**: `~/.whisperbridge/logs/`

### Что включить в отчет об ошибке

1. **Описание проблемы:**
   - Что вы пытались сделать
   - Что произошло вместо ожидаемого
   - Когда проблема началась

2. **Системная информация:**
   - Операционная система и версия
   - Версия Python
   - Версия WhisperBridge

3. **Файлы логов:**
   - Последний файл лога
   - Конфигурационный файл (без API ключей!)

4. **Шаги для воспроизведения:**
   - Подробная последовательность действий
   - Скриншоты при необходимости

### Команды для сбора информации

```bash
# Информация о системе
whisperbridge --system-info

# Проверка конфигурации
whisperbridge --check-config

# Тест всех компонентов
whisperbridge --self-test
```

## Известные ограничения

### Технические ограничения

1. **OCR точность:**
   - Рукописный текст распознается хуже печатного
   - Декоративные шрифты могут вызывать ошибки
   - Низкое разрешение изображений снижает качество

2. **Языковая поддержка:**
   - Не все языки поддерживаются всеми OCR движками
   - Качество перевода зависит от модели GPT

3. **Производительность:**
   - Первый запуск OCR может быть медленным (загрузка моделей)
   - Большие изображения обрабатываются дольше

### Системные ограничения

1. **Права доступа:**
   - Некоторые приложения блокируют захват экрана
   - Защищенный контент может не захватываться

2. **Сетевые ограничения:**
   - Требуется стабильное интернет-соединение
   - Корпоративные файрволы могут блокировать API

## Контакты для поддержки

### Самостоятельное решение проблем

1. **Документация:**
   - [Руководство пользователя](USER_GUIDE.md)
   - [Руководство по установке](INSTALLATION.md)
   - [Настройка](CONFIGURATION.md)

2. **Онлайн ресурсы:**
   - GitHub Issues: [ссылка на репозиторий]
   - Wiki: [ссылка на wiki]
   - FAQ: [ссылка на FAQ]

### Обращение в поддержку

1. **GitHub Issues:**
   - Создайте новый issue с подробным описанием
   - Приложите логи и системную информацию
   - Используйте соответствующие теги

2. **Email поддержка:**
   - support@whisperbridge.dev
   - Укажите версию приложения и ОС
   - Приложите файлы логов

3. **Сообщество:**
   - Discord сервер: [ссылка]
   - Telegram группа: [ссылка]
   - Reddit: r/WhisperBridge

### Перед обращением в поддержку

1. **Проверьте FAQ** - возможно, ваша проблема уже решена
2. **Обновите приложение** до последней версии
3. **Попробуйте сбросить настройки** к значениям по умолчанию
4. **Соберите необходимую информацию** для отчета об ошибке

---

*Если вы не нашли решение своей проблемы, не стесняйтесь обращаться в поддержку. Мы постараемся помочь как можно быстрее!*